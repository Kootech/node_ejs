function e(e){return e&&e.__esModule?e.default:e}var t;t=JSON.parse('[{"id":1,"name":"Red","category":"Primary Color","priceCents":1600,"imageColor":"watch1.jpg"},{"id":2,"name":"Yellow","category":"Primary Color","priceCents":2100,"imageColor":"watch2.jpg"},{"id":3,"name":"Blue","category":"Primary Color","priceCents":1200,"imageColor":"watch3.jpg"},{"id":4,"name":"Orange","category":"Secondary Color","priceCents":1800,"imageColor":"watch4.jpg"},{"id":5,"name":"Green","category":"Secondary Color","priceCents":1600,"imageColor":"watch5.jpg"},{"id":6,"name":"Purple","category":"Secondary Color","priceCents":2100,"imageColor":"watch6.jpg"},{"id":7,"name":"Light Gray","category":"Grayscale","priceCents":1200,"imageColor":"watch7.jpg"},{"id":8,"name":"Dark Gray","category":"Grayscale","priceCents":1600,"imageColor":"watch8.jpg"}]');const a=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"});function r(e){return a.format(e)}function n(e,t,a){document.addEventListener(e,(e=>{e.target.matches(t)&&a(e)}))}const o=document.querySelector("[data-cart-button]"),c=document.querySelector("[data-cart-items-wrapper]");let i=[];const d=document.querySelector("#cart-item-template"),l=document.querySelector("[data-cart-items]"),s=document.querySelector("[data-cart-quantity]"),m=document.querySelector("[data-cart-total]"),u=document.querySelector("[data-cart]");function y(){sessionStorage.setItem("SHOPPING_CART-cart",JSON.stringify(i))}function g(){0===i.length?(u.classList.add("invisible"),c.classList.add("invisible")):(u.classList.remove("invisible"),function(){s.innerText=i.length;const a=i.reduce(((a,r)=>a+e(t).find((e=>r.id===e.id)).priceCents*r.quantity),0);m.innerText=r(a/100),l.innerHTML="",i.forEach((a=>{const n=e(t).find((e=>a.id===e.id)),o=d.content.cloneNode(!0);o.querySelector("[data-item]").dataset.itemId=n.id;o.querySelector("[data-name]").innerText=n.name;if(o.querySelector("[data-image]").src=`https://dummyimage.com/210x130/${n.imageColor}/${n.imageColor}`,a.quantity>1){o.querySelector("[data-quantity]").innerText=`x${a.quantity}`}o.querySelector("[data-price]").innerText=r(n.priceCents*a.quantity/100),l.appendChild(o)}))}())}const p=document.querySelector("#store-item-template"),C=document.querySelector("[data-store-container]");function S(e){const t=p.content.cloneNode(!0);t.querySelector("[data-store-item]").dataset.itemId=e.id;t.querySelector("[data-name]").innerText=e.name;t.querySelector("[data-category]").innerText=e.category;t.querySelector("[data-image]").src=`images/${e.imageColor} `;t.querySelector("[data-price]").innerText=r(e.priceCents/100),C.appendChild(t)}null!=C&&(n("click","[data-add-to-cart-button]",(e=>{const t=e.target.closest("[data-store-item]").dataset.itemId;!function(e){const t=i.find((t=>t.id===e));t?t.quantity++:i.push({id:e,quantity:1}),g(),y()}(parseInt(t))})),e(t).forEach(S)),n("click","[data-remove-from-cart-button]",(e=>{!function(e){null!=i.find((t=>t.id===e))&&(i=i.filter((t=>t.id!==e)),g(),y())}(parseInt(e.target.closest("[data-item]").dataset.itemId))})),i=function(){const e=sessionStorage.getItem("SHOPPING_CART-cart");return JSON.parse(e)||[]}(),g(),o.addEventListener("click",(()=>[c.classList.toggle("invisible")]));
//# sourceMappingURL=index.fb0dc1e1.js.map
